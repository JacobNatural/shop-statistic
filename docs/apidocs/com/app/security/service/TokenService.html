<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (22) on Mon Dec 30 14:12:25 CET 2024 -->
<title>TokenService (ShopApplication - spring boot 1.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-12-30">
<meta name="description" content="declaration: package: com.app.security.service, interface: TokenService">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/TokenService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.app.security.service</a></div>
<h1 title="Interface TokenService" class="title">Interface TokenService</h1>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="impl/TokenServiceImpl.html" title="class in com.app.security.service.impl">TokenServiceImpl</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">TokenService</span></div>
<div class="block">Interface for handling JWT token generation, parsing, and refreshing operations.
 <p>
 This interface defines the necessary methods for working with JSON Web Tokens (JWT) in an authentication system.
 Implementations of this interface are responsible for generating access and refresh tokens, parsing the access token
 from an HTTP request, and refreshing the tokens based on the refresh token.
 </p></div>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../dto/TokensDto.html" title="class in com.app.security.dto">TokensDto</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#generateToken(org.springframework.security.core.Authentication)" class="member-name-link">generateToken</a><wbr>(org.springframework.security.core.Authentication&nbsp;authentication)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Generates a new access and refresh token for the given authenticated user.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#id(java.lang.String)" class="member-name-link">id</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Extracts the user ID from a JWT token.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>org.springframework.security.authentication.UsernamePasswordAuthenticationToken</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#parseAccessToken(java.lang.String)" class="member-name-link">parseAccessToken</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Parses the access token from a provided token string and retrieves the associated authentication.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../dto/TokensDto.html" title="class in com.app.security.dto">TokensDto</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#refreshToken(com.app.security.dto.RefreshTokenDto)" class="member-name-link">refreshToken</a><wbr>(<a href="../dto/RefreshTokenDto.html" title="class in com.app.security.dto">RefreshTokenDto</a>&nbsp;refreshTokenDto)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Refreshes the access token using the provided refresh token.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="generateToken(org.springframework.security.core.Authentication)">
<h3>generateToken</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="../dto/TokensDto.html" title="class in com.app.security.dto">TokensDto</a></span>&nbsp;<span class="element-name">generateToken</span><wbr><span class="parameters">(org.springframework.security.core.Authentication&nbsp;authentication)</span></div>
<div class="block">Generates a new access and refresh token for the given authenticated user.
 <p>
 This method creates an access token and a refresh token for a user based on the provided authentication object.
 The generated tokens are signed with a secret key and contain expiration times.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>authentication</code> - the authentication object containing the authenticated user's details</dd>
<dt>Returns:</dt>
<dd>a <a href="../dto/TokensDto.html" title="class in com.app.security.dto"><code>TokensDto</code></a> object containing the generated access and refresh tokens</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="parseAccessToken(java.lang.String)">
<h3>parseAccessToken</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">org.springframework.security.authentication.UsernamePasswordAuthenticationToken</span>&nbsp;<span class="element-name">parseAccessToken</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token)</span></div>
<div class="block">Parses the access token from a provided token string and retrieves the associated authentication.
 <p>
 This method is responsible for extracting the JWT from the authorization header (or other source),
 verifying its validity, and using it to create a <code>UsernamePasswordAuthenticationToken</code> that represents
 the authenticated user.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>token</code> - the JWT token in the authorization header or request</dd>
<dt>Returns:</dt>
<dd>a <code>UsernamePasswordAuthenticationToken</code> containing the authenticated user's details</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the token is invalid or cannot be parsed</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="refreshToken(com.app.security.dto.RefreshTokenDto)">
<h3>refreshToken</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="../dto/TokensDto.html" title="class in com.app.security.dto">TokensDto</a></span>&nbsp;<span class="element-name">refreshToken</span><wbr><span class="parameters">(<a href="../dto/RefreshTokenDto.html" title="class in com.app.security.dto">RefreshTokenDto</a>&nbsp;refreshTokenDto)</span></div>
<div class="block">Refreshes the access token using the provided refresh token.
 <p>
 This method validates the provided refresh token and uses it to generate a new set of tokens,
 including a fresh access token and a new refresh token. The method ensures that the refresh token
 is valid and has not expired before issuing the new tokens.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>refreshTokenDto</code> - a <a href="../dto/RefreshTokenDto.html" title="class in com.app.security.dto"><code>RefreshTokenDto</code></a> containing the refresh token to be used for refreshing the access token</dd>
<dt>Returns:</dt>
<dd>a <a href="../dto/TokensDto.html" title="class in com.app.security.dto"><code>TokensDto</code></a> containing the newly generated access and refresh tokens</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the refresh token is invalid or null</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the refresh token is expired or otherwise cannot be used to generate a new access token</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="id(java.lang.String)">
<h3>id</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></span>&nbsp;<span class="element-name">id</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token)</span></div>
<div class="block">Extracts the user ID from a JWT token.
 <p>
 This method is used to extract the user ID from the provided token's claims.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>token</code> - the JWT token containing the user ID as its subject</dd>
<dt>Returns:</dt>
<dd>the user ID extracted from the token</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024. All rights reserved.</small></p>
</footer>
</body>
</html>
